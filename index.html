<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="test.png" sizes="57x57">
    <title>D-ATC</title>
    <meta name="description" content="自動車両制御装置">
    
    <script>
        var num = 0;
        var watch_id;

        function test() {
            watch_id = navigator.geolocation.watchPosition(test2, function(e) {
                alert(e.message);
            }, {
                "enableHighAccuracy": true,
                "timeout": 20000,
                "maximumAge": 2000
            });
        }

        function clear() {
            navigator.geolocation.clearWatch(watch_id);
        }

        function test2(position) {

            var geo_text = "速度:" + position.coords.speed + "km/h\n";
            geo_text += "前方車走行速度:" + position.coords.speed + "km/h\n";
            geo_text += "制限速度:" + position.coords.speed + "-10km/h\n";
            geo_text += "情報更新回数:" + (++num) + "\n";
            var date = new Date(position.timestamp);
            document.getElementById('position_view').innerHTML = geo_text;
        }
    </script>
</head>
<body>
    <font size="6"><button onclick="test()" style="width: 100%; padding: 40px; background-color:#c0c0c0; font-size: 200%;">D-ATC起動</button></font>

<font size="7"><p>速度情報</p></font>
    <font size="20"><p><pre id="position_view"></pre></p></font>  
</body>
</html>
